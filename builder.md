### Builder Pattern 构建着模式

使用多个简单的对象一步一步构建成一个复杂的对象。属于创建型模式，它提供了一种创建对象的最佳方式。

一个 Builder 类会一步一步构造最终的对象。该 Builder 类是独立于其他对象的。

#### 意图

将一个复杂的构建与其表示相分离，使得同样的构建过程可以创建不同的表示。

#### 适用性

一些基本部件不会变，而其组合经常变化的时候。

#### 参与者

* ###### 抽象建造者（Builder）角色：

  给出一个抽象接口，以规范产品对象的各个组成成分的建造。一般而言，此接口独立于应用程序的商业逻辑。模式中直接创建产品对象的是具体建造者 \(ConcreteBuilder\)角色。  
  具体建造者类必须实现这个接口所要求的两种方法：  
  一种是建造方法\(buildPart1和 buildPart2\)，  
  另一种是返还结构方法\(retrieveResult\)。  
  一般来说，产品所包含的零件数目与建造方法的数目相符。换言之，有多少 零件，就有多少相应的建造方法。

* ###### 具体建造者（ConcreteBuilder）角色：

  担任这个角色的是与应用程序紧密相关的一些类，它们在应用程序调用下创建产品的实例。  
   这个角色要完成的任务包括：

  * 实现抽象建造者Builder所声明的接口，给出一步一步地完成创建产品实例的操作。
  * 在建造过程完成后，提供产品的实例。

* ###### 导演者（Director）角色：

  担任这个角色的类调用具体建造者角色以创建产品对象。应当指出的是，导演者角色并没有产品类的具体知识，真正拥有产品类的具体知识的是具体建造者角色。

* ###### 产品（Product）角色：

  产品便是建造中的复杂对象。一般来说，一个系统中会有多于一个的产品类，而且这些产品类并不一定有共同的接口，而完全可以是不相关联的。

#### 效果

* ##### 优点：

  1. 建造者独立，易扩展。 
  2. 便于控制细节风险。
* ##### 缺点：

  1. 产品必须有共同点，范围有限制。

  2. 如内部变化复杂，会有很多的建造类。

#### 实现

工厂模式一般都是创建一个产品，注重的是把这个产品创建出来就行，只要创建出来，不关心这个产品的组成部分。从代码上看，工厂模式就是一个方法，用这个方法就能生产出产品。

       建造者模式也是创建一个产品，但是不仅要把这个产品创建出来，还要关系这个产品的组成细节，组成过程。从代码上看，建造者模式在建造产品时，这个产品有很多方法，建造者模式会根据这些相同方法但是不同执行顺序建造出不同组成细节的产品



来自 &lt;http://hejiawangjava.iteye.com/blog/2238889&gt;



